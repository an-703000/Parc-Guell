<!DOCTYPE html>
<html>
<head>
<meta name="robots" content="noindex, nofollow">
<meta charset="utf-8">
<title>Parc Guell</title>
<link rel="stylesheet" href="https://cdn.pannellum.org/2.5/pannellum.css"/>
<script src="https://cdn.pannellum.org/2.5/pannellum.js"></script>

<style>
html, body { 
    margin:0; 
    height:100%; 
    width:100%; 
    overflow:hidden; 
}

#panorama { 
    width:100%; 
    height:100%; 
}

/* ===== HOTSPOT STILE MIGLIORATO ===== */

.custom-tooltip {
    min-width:260px;
    max-width:340px;
}

/* Bottone iniziale */
.hotspot-button {
    background:white;
    padding:10px 14px;
    border-radius:10px;
    cursor:pointer;
    font-size:15px;
    font-weight:600;
    line-height:1.4;
    text-align:center;
    white-space:normal;
    word-wrap:break-word;
    box-shadow:0 0 15px rgba(0,0,0,0.4);
}

/* Box immagine */
.hotspot-content {
    margin-top:12px;
    background:white;
    padding:14px;
    border-radius:12px;
    display:none;
    text-align:center;
    box-shadow:0 0 15px rgba(0,0,0,0.4);
}

.hotspot-content img {
    max-width:100%;
    border-radius:8px;
}

.hotspot-content button{
    margin-top:10px;
    padding:6px 12px;
    border:none;
    border-radius:6px;
    cursor:pointer;
}
</style>
</head>

<body>

<div id="panorama"></div>

<script>

var scenes={

"scene1":{
"type":"equirectangular",
"panorama":"Parc Guell 1.jpg",
"hotSpots":[
{"pitch":0,"yaw":0,"type":"scene","text":"Sali","sceneId":"scene2"}
]
},

"scene2":{
"type":"equirectangular",
"panorama":"Parc Guell 2.jpg",
"hotSpots":[
{"pitch":-20,"yaw":-180,"type":"scene","text":"Scendi","sceneId":"scene1"},
{"pitch":0,"yaw":55,"type":"scene","text":"Sala Ipostila","sceneId":"scene3"},
{"pitch":0,"yaw":-50,"type":"scene","text":"Terrazza","sceneId":"scene4"},

{
"pitch":-60,
"yaw":-180,
"type":"info",
"createTooltipFunc": function(hotSpotDiv){

hotSpotDiv.classList.add('custom-tooltip');

hotSpotDiv.innerHTML = `
<div class="hotspot-button">Dettaglio della Salamandra</div>
<div class="hotspot-content">
<img src="El drac.jpg">
<br>
<button onclick="this.parentElement.style.display='none'">Chiudi</button>
</div>
`;

let content = hotSpotDiv.querySelector('.hotspot-content');

hotSpotDiv.querySelector('.hotspot-button').onclick = function(e){
e.stopPropagation();
content.style.display = content.style.display === "none" ? "block" : "none";
};

}
}
]
},

"scene3":{
"type":"equirectangular",
"panorama":"Parc Guell 3.jpg",
"hotSpots":[
{"pitch":0,"yaw":170,"type":"scene","text":"Scendi","sceneId":"scene2"},

{
"pitch":35,
"yaw":160,
"type":"info",
"createTooltipFunc": function(hotSpotDiv){

hotSpotDiv.classList.add('custom-tooltip');

hotSpotDiv.innerHTML = `
<div class="hotspot-button">Dettaglio del mosaico</div>
<div class="hotspot-content">
<img src="Mosaico sole.jpg">
<br>
<button onclick="this.parentElement.style.display='none'">Chiudi</button>
</div>
`;

let content = hotSpotDiv.querySelector('.hotspot-content');

hotSpotDiv.querySelector('.hotspot-button').onclick = function(e){
e.stopPropagation();
content.style.display = content.style.display === "none" ? "block" : "none";
};

}
}
]
},

"scene4":{
"type":"equirectangular",
"panorama":"Parc Guell 4.jpg",
"hotSpots":[
{"pitch":-5,"yaw":135,"type":"scene","text":"Scendi","sceneId":"scene2"},

{
"pitch":-30,
"yaw":30,
"type":"info",
"createTooltipFunc": function(hotSpotDiv){

hotSpotDiv.classList.add('custom-tooltip');

hotSpotDiv.innerHTML = `
<div class="hotspot-button">Dettaglio della panchina</div>
<div class="hotspot-content">
<img src="Panchina.jpg">
<br>
<button onclick="this.parentElement.style.display='none'">Chiudi</button>
</div>
`;

let content = hotSpotDiv.querySelector('.hotspot-content');

hotSpotDiv.querySelector('.hotspot-button').onclick = function(e){
e.stopPropagation();
content.style.display = content.style.display === "none" ? "block" : "none";
};

}
},

{
"pitch":0,
"yaw":-150,
"type":"info",
"text":"Vista dall'alto",
"clickHandlerFunc": function(){
window.open("https://earth.google.com/earth/d/1j1wbTYDG8tGAcbo5Rz6Ug6Mm8R7XYg3l?usp=sharing","_blank");
}
}
]
}

};

pannellum.viewer('panorama',{
"default":{"firstScene":"scene1","sceneFadeDuration":1000},
"scenes":scenes,
"autoLoad":true,
"showFullscreenCtrl":true,
"showVRCtrl":true
});

</script>

</body>
</html>
